<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Zeping He" />


<title>Visualization Demostic flight delay in May 2017</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="site_libs/blazy-1.8.2/blazy.min.js"></script>
<script src="site_libs/pymjs-1.3.2/pym.v1.js"></script>
<script src="site_libs/widgetframe-binding-0.3.0/widgetframe.js"></script>
<link href="site_libs/bokehjs-0.12.2/bokeh.min.css" rel="stylesheet" />
<link href="site_libs/bokehjs-0.12.2/loader.css" rel="stylesheet" />
<script src="site_libs/bokehjs-0.12.2/bokeh.min.js"></script>
<script src="site_libs/rbokeh-binding-0.5.0/rbokeh.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}

.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adammwilson/RDataScience">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Visualization Demostic flight delay in May 2017</h1>
<h3 class="subtitle"><em>With the relationship of geographic…</em></h3>
<h4 class="author"><em>Zeping He</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>With more and more people choose the plane to travel, the world aviation industry has a significant growth in the quantity of the travelers, so as the demand of the airplane. In the year of 2016, 3.8 billion air travelers fly all over the earth. The International Air Transport Association (IATA) expects 7.2 billion passengers to travel in 2035, a near doubling of air travelers in 2016. In a world of increasing transparency, immediate information and action, flight status and punctuality data have an increasingly important role to play in all of our planning. Everyone from the fuelling company to the catering supplier to the traveler wants access to timely, accurate information about the on-time performance. In my project, I will</p>
<p><strong>Focus on US domestic airline on-time data for May 2017. Test the relationship between “Distance” and “Delay time”</strong></p>
<p><strong>How the severity of delayed airport appears to have geographic pattern of distribution.</strong></p>
<p>The hypothesis of this topic are. a) as the flight distance increase, the percentage and the degree of delayed flight will increase. The reason is long distance flight could be more effective by the Objective factors on the midway (i.e: weather conditions of the routing) before departure. b) By the interactive maps shows, the geographic pattern will become a dominate. Similarities could be found in the regional group or cluster of the airport.</p>
<blockquote>
<p>“People want to fly. Demand for air travel over the next two decades is set to double. Enabling people and nations to trade, explore, and share the benefits of innovation and economic prosperity makes our world a better place,” ~ Alexandre de Juniac, IATA’s Director General and CEO.</p>
</blockquote>
<blockquote>
<p>“Punctuality is the soul of business” ~Thomas Chandler Halliburton</p>
</blockquote>
</div>
<div id="materials-and-methods" class="section level1 tabset">
<h1>Materials and methods</h1>
<div id="packages" class="section level2">
<h2>Packages</h2>
<pre class="r"><code>library(dplyr)
library(ggplot2)
library(maps)
library(spocc)
library(leaflet)
library(rbokeh)
library(widgetframe)
library(ggpubr)
library(stats)
library(geosphere)
library(readr)
library(DT)
knitr::opts_chunk$set(cache=TRUE)  # cache the results for quick compiling</code></pre>
</div>
<div id="data-source" class="section level2">
<h2>Data Source:</h2>
<p>Click the hyperlink to select which variables of the data from BTS Website you want use.</p>
<ul>
<li><a href="https://www.transtats.bts.gov/Tables.asp?DB_ID=120&DB_Name=Airline%20On-Time%20Performance%20Data&DB_Short_Name=On-Time"> Filght on-time Performance </a> — ‘Airline On-Time Performance Data’ From BUREAU OF TRANSPORTATION STATISTICS</li>
<li><a href= "https://www.transtats.bts.gov/Tables.asp?DB_ID=595&DB_Name=Aviation%20Support%20Tables"> Airport Location Data </a> — ‘Aviation Support Tables’ BUREAU OF TRANSPORTATION STATISTICS</li>
</ul>
<p>To save time, I already have three tables prepared.</p>
<pre class="r"><code>May17flight &lt;- read_csv(&quot;https://raw.githubusercontent.com/finallyegg/RDataScience_Project/master/data/May17flight.csv&quot;)

AirportData &lt;- read_csv(&quot;https://raw.githubusercontent.com/finallyegg/RDataScience_Project/master/data/AirportData.csv&quot;)

Halfflow &lt;- read_csv(&quot;https://raw.githubusercontent.com/finallyegg/RDataScience_Project/master/data/Halfflow.csv&quot;)</code></pre>
</div>
<div id="data-processing" class="section level2">
<h2>Data Processing</h2>
<p><strong>Check if the data have duplicated</strong></p>
<pre class="r"><code>length(AirportData$Code[duplicated(AirportData$Code)])</code></pre>
<pre><code>## [1] 1449</code></pre>
<p>The result said there are 1449 Airport which have the same ‘Code’ but different detailed named. But the location is the same.</p>
<p>Remove duplicated Data in AirportData_table</p>
<pre class="r"><code>AirportData_nd=AirportData[!duplicated(AirportData$Code),]</code></pre>
<p>Georeference each airport by using “left-join” function, to assign each Origin Airport a coordinate base on their 3-digit ‘Code’, Left-join is based on the same string (names) of two tables.</p>
<pre class="r"><code>codeunique=data.frame(unique(May17flight$ORIGIN))
colnames(codeunique)=&quot;Code&quot;
airport_joined=left_join(codeunique, AirportData_nd, by = &quot;Code&quot;)</code></pre>
</div>
<div id="methodology" class="section level2">
<h2>Methodology</h2>
<p>Because of the airline on-time data was described by the departure delay and arrival delay. Each flight can be considered as two spatial point – Departure airport and Arrival airport. To study the punctuality rate of each flight, focusing on departure airport on time rate is important.</p>
<p><strong>1.Extract and aggregate the origin and destination location from the flight database </strong></p>
<p>Since we have each flight origin and destination, we can group these flight by their origin location. By using ‘group by’ or ‘aggregate’ function, to group data by certain variable(s).</p>
<p>In this case, I am using ‘mean’ function to obtain the airport average delay value, so each seperate flight data will be classified and transformed as the airport data.</p>
<p>Then perform left-join serval times to generate a ‘final’ table contains ‘Airport Code’, ‘Delay Time’, ‘Passager Flow’ and ‘coordinate’</p>
<pre class="r"><code>#In this case, I use &#39;aggregate&#39; to extract the 12th and 13th column from May17flight data table, these columns contains the departure and arrival delay time for each flight. 
monthlydata=aggregate(May17flight[, 12:13], list(May17flight$ORIGIN), mean,na.rm=T)
#Rename the column from &#39;Group.1&#39; to &#39;Code&#39; to make it easier to merage in next steps
colnames(monthlydata)[colnames(monthlydata)==&quot;Group.1&quot;]=&quot;Code&quot;
#add geographical coordinates information to each airport
l2=left_join(monthlydata, AirportData_nd, by = &quot;Code&quot;)
#add passager traffic information
finished=left_join(l2, Halfflow, by = c(&quot;Code&quot; = &quot;ORIGIN&quot;))</code></pre>
<p><br></p>
<p><strong>2.Using leaflet Visualizing the Airport average delay time </strong></p>
<p>Leaflet is one of the most popular open-source JavaScript libraries for interactive maps. It’s used by websites ranging from The New York Times and The Washington Post to GitHub and Flickr, as well as GIS specialists like OpenStreetMap, Mapbox, and CartoDB. This R package makes it easy to integrate and control Leaflet maps in R.</p>
<p><br></p>
<ol style="list-style-type: lower-alpha">
<li>Distribution of US public airport To generate a basic knowledge of the airport spatial distribution, I made a point map to show the distribution.</li>
</ol>
<pre class="r"><code>m1=leaflet(airport_joined) %&gt;% 
  #set the center point and scale level (3)
   setView(-96, 37.8, 3) %&gt;% 
  #add provider base map
   addProviderTiles(providers$CartoDB.DarkMatterNoLabels) %&gt;%  
   addCircleMarkers(lng=~LONGITUDE,lat=~LATITUDE,
  #this label commands creates a hover 
   label=airport_joined$DISPLAY_AIRPORT_NAME,
   radius = 2,
   stroke = F,
   fillColor = &quot;Orange&quot;,
   fillOpacity = 1) %&gt;% 
   frameWidget(width = &quot;100%&quot;,height = 500)</code></pre>
<p><br></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Create a color ramp based on given interval and certatin domain. In this case, interval is set every 15 minutes</li>
</ol>
<pre class="r"><code>#set the interval every 15minutes
colbm2=c(0,15,30,45,60,Inf)
#set the color ramp based on the given interval and use delay time as a domin
pal &lt;- colorBin(&quot;YlOrRd&quot;, domain = finished$DEP_DELAY_NEW,bins = colbm2)</code></pre>
<p><br></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Create a circle point map of airport, assign a color ramp for the linear delay percentage. The radius of the circle represents the numberic of passager traffic in that airport.</li>
</ol>
<pre class="r"><code>popuplabels &lt;- paste(finished$DISPLAY_AIRPORT_NAME,&quot;Airport&quot;,
                 &quot;&lt;br&gt;Average Delay Here is&lt;/br&gt;&quot;,round(finished$DEP_DELAY_NEW),&quot;minutes&quot;)



m2=leaflet(finished) %&gt;% 
  setView(-96, 37.8, 4) %&gt;% 
  addProviderTiles(providers$CartoDB.DarkMatter) %&gt;%
  #add markers and customize the properities
  addCircleMarkers(
    stroke = FALSE,
    color=~pal(finished$DEP_DELAY_NEW),
    popup = popuplabels,
    radius = ~sqrt(finished$Flow)*0.01,
    fillColor =~pal(finished$DEP_DELAY_NEW),
    fillOpacity = 0.7, opacity = 0.7 ) %&gt;% 
  #set Legend properities
  addLegend(
    pal = pal, 
    values = ~DEP_DELAY_NEW, 
    opacity = 0.7, 
    title = &quot;Avg.Delaytime &lt;br&gt;in (minutes)&lt;/br&gt;&quot;,
    position = &quot;bottomright&quot;) %&gt;% 
  setView(-96, 37.8, 4) %&gt;% 
  frameWidget(width = &quot;100%&quot;,height = 600)</code></pre>
<p>d.Delay which exceed 15 minutes</p>
<pre class="r"><code>a=filter(finished,finished$DEP_DELAY_NEW&gt;15)
colbm3=c(15,30,45,60,Inf)
pal2=colorBin(c(&quot;#fed976&quot;,&quot;#fd8d3c&quot;,&quot;#fc4e2a&quot;,&quot;#b10026&quot;), finished$DEP_DELAY_NEW, bins=colbm3)</code></pre>
<pre class="r"><code>popuplabels2 &lt;- paste(a$DISPLAY_AIRPORT_NAME,&quot;Airport&quot;,
                 &quot;&lt;br&gt;Average Delay Here is&lt;/br&gt;&quot;,round(a$DEP_DELAY_NEW),&quot;minutes&quot;)

m3=leaflet(a) %&gt;% 
    addProviderTiles(providers$CartoDB.DarkMatter) %&gt;% 
    addCircleMarkers(
      lng=a$LONGITUDE, lat=a$LATITUDE,
      color=~pal2(a$DEP_DELAY_NEW),
      popup = popuplabels2,
      radius = ~sqrt(a$Flow)*0.01,
      fillColor =~pal2(a$DEP_DELAY_NEW),
      fillOpacity = 0.7, 
      opacity = 0.7,
      stroke = FALSE) %&gt;% 
    addLegend(
      pal = pal2, 
      values = ~DEP_DELAY_NEW, 
      opacity = 0.7, 
      title = &quot;Avg.Delaytime &lt;br&gt;in (minutes)&lt;/br&gt;&quot;,
      position = &quot;bottomleft&quot;) %&gt;% 
  setView(-96, 37.8, 4) %&gt;% 
  frameWidget(width = &quot;100%&quot;,height = 500)
m3</code></pre>
<div id="htmlwidget-d00aa7ea9e506bf27d8f" style="width:100%;height:500px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-d00aa7ea9e506bf27d8f">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-11.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p><br></p>
<p><strong>Adding Curved Flight path using R’s graphic Package</strong></p>
<p>a.Since we finish visualize the departure delay analysis. Next step is visualize flight path from a airport. This database contain start point and end point, simplized thousands flight records into one point to point line by taking the median</p>
<pre class="r"><code>linedf=May17flight %&gt;%
       group_by(ORIGIN,DEST) %&gt;% 
       summarise(dep_delay_ = mean(DEP_DELAY_NEW,na.rm = T),distance = median(DISTANCE,na.rm = T)) %&gt;% 
       left_join(AirportData_nd,by = c(&quot;ORIGIN&quot; = &quot;Code&quot;)) %&gt;% 
       left_join(AirportData_nd,by = c(&quot;DEST&quot; = &quot;Code&quot;))</code></pre>
<p><br> <br></p>
<hr color="#000000">
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<div id="briefly-view-the-distribution-of-the-public-airport" class="section level2">
<h2>Briefly view the distribution of the public airport</h2>
<p>Check the quantity of Airport in the databese</p>
<pre class="r"><code>length(unique(May17flight$ORIGIN))</code></pre>
<pre><code>## [1] 296</code></pre>
<p>View the Location Map Use “Leaflet”</p>
<pre class="r"><code>m1</code></pre>
<div id="htmlwidget-b4e214bdcfc19afec892" style="width:100%;height:500px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-b4e214bdcfc19afec892">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-14.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p>ggplot {r, warning=F} cutoffdelay &lt;- data.frame( x = c(-Inf, Inf), y = 15, cutoff = factor(15) ) p=ggplot(subset(May17flight,!is.na(DEP_DELAY_NEW)),aes(x=DISTANCE,y=DEP_DELAY_NEW)) p+ geom_point(alpha=0.1) + geom_line(aes( x, y, linetype = cutoff , colour=“Blue”), cutoffdelay)+ stat_summary(aes(y = DEP_DELAY_NEW,group=1), fun.y=mean, colour=“red”, geom=“line”,group=1)</p>
<p>Only View Three Major Airlines</p>
<p>ggplot(subset(May17flight,CARRIER %in% c(“AA”,“UA”,“DL”)),aes(x = DISTANCE, y =</p>
<p>DEP_DELAY_NEW, color = factor(CARRIER)))+ geom_point(alpha=0.3)</p>
</div>
<div id="view-the-monthly-departure-and-arrival-delay" class="section level2">
<h2>View the monthly departure and arrival delay</h2>
<p>Click on the point to view the avg.delay time</p>
<pre class="r"><code>m2</code></pre>
<div id="htmlwidget-47e0e834807aa0f2d082" style="width:100%;height:600px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-47e0e834807aa0f2d082">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-15.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="exceed-15mins-of-delay" class="section level2">
<h2>Exceed 15mins of delay</h2>
<p>Click on the point to view the avg.delay time</p>
<pre class="r"><code>m3</code></pre>
<div id="htmlwidget-8678b2c0216977ad01ca" style="width:100%;height:500px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-8678b2c0216977ad01ca">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-16.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p><BR> <BR></p>
</div>
<div id="flight-curve-visualization" class="section level2 tabset">
<h2>Flight curve visualization</h2>
<div id="jfk" class="section level3">
<h3>JFK</h3>
<pre class="r"><code>JFK1=linedf %&gt;% 
  filter(ORIGIN==&quot;JFK&quot;)</code></pre>
<pre class="r"><code>col.1 &lt;- adjustcolor(&quot;orange red&quot;, alpha=0.4)
col.2 &lt;- adjustcolor(&quot;blue&quot;, alpha=0.9)
edge.pal &lt;- colorRampPalette(c(col.1, col.2), alpha = TRUE)
edge.col &lt;- edge.pal(50)

map(&quot;world&quot;, regions=c(&quot;usa&quot;), fill=T, col=&quot;grey8&quot;, bg=&quot;grey15&quot;, ylim=c(21.0,50.0), xlim=c(-130.0,-65.0))

for (i in (1:dim(JFK1)[1])) { 
  inter=gcIntermediate(c(JFK1$LONGITUDE.x[1], JFK1$LATITUDE.x[1]), c(JFK1$LONGITUDE.y[i], JFK1$LATITUDE.y[i]), n=100)
  edge.ind &lt;-(JFK1[i,]$dep_delay_)
  range(edge.ind)
  lines(inter, lwd=edge.ind/30, col=edge.col[edge.ind])   
}</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="atl" class="section level3">
<h3>ATL</h3>
<pre class="r"><code>ATL1=linedf %&gt;% 
  filter(ORIGIN==&quot;ATL&quot;)</code></pre>
<pre class="r"><code>col.1 &lt;- adjustcolor(&quot;orange red&quot;, alpha=0.4)
col.2 &lt;- adjustcolor(&quot;blue&quot;, alpha=1)
edge.pal &lt;- colorRampPalette(c(col.1, col.2), alpha = TRUE)
edge.col &lt;- edge.pal(50)

map(&quot;world&quot;, regions=c(&quot;usa&quot;), fill=T, col=&quot;grey8&quot;, bg=&quot;grey15&quot;, ylim=c(21.0,50.0), xlim=c(-130.0,-65.0))

for (i in (1:dim(ATL1)[1])) { 
  inter=gcIntermediate(c(ATL1$LONGITUDE.x[1], ATL1$LATITUDE.x[1]), c(ATL1$LONGITUDE.y[i], ATL1$LATITUDE.y[i]), n=100)
  edge.ind &lt;-(ATL1[i,]$dep_delay_)
  range(edge.ind)
  lines(inter, lwd=edge.ind/30, col=edge.col[edge.ind])   
}</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="ord" class="section level3">
<h3>ORD</h3>
<pre class="r"><code>ORD1=linedf %&gt;% 
  filter(ORIGIN==&quot;ORD&quot;)</code></pre>
<pre class="r"><code>col.1 &lt;- adjustcolor(&quot;orange red&quot;, alpha=0.4)
col.2 &lt;- adjustcolor(&quot;blue&quot;, alpha=1)
edge.pal &lt;- colorRampPalette(c(col.1, col.2), alpha = TRUE)
edge.col &lt;- edge.pal(50)

map(&quot;world&quot;, regions=c(&quot;usa&quot;), fill=T, col=&quot;grey8&quot;, bg=&quot;grey15&quot;, ylim=c(21.0,50.0), xlim=c(-130.0,-65.0))

for (i in (1:dim(ORD1)[1])) { 
  inter=gcIntermediate(c(ORD1$LONGITUDE.x[1], ORD1$LATITUDE.x[1]), c(ORD1$LONGITUDE.y[i], ORD1$LATITUDE.y[i]), n=100)
  edge.ind &lt;-(ORD1[i,]$dep_delay_)
  range(edge.ind)
  lines(inter, lwd=edge.ind/30, col=edge.col[edge.ind])   
}</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="lax" class="section level3">
<h3>LAX</h3>
<pre class="r"><code>LAX1=linedf %&gt;% 
  filter(ORIGIN==&quot;LAX&quot;)</code></pre>
<pre class="r"><code>col.1 &lt;- adjustcolor(&quot;orange red&quot;, alpha=0.4)
col.2 &lt;- adjustcolor(&quot;blue&quot;, alpha=1)
edge.pal &lt;- colorRampPalette(c(col.1, col.2), alpha = TRUE)
edge.col &lt;- edge.pal(50)

map(&quot;world&quot;, regions=c(&quot;usa&quot;), fill=T, col=&quot;grey8&quot;, bg=&quot;grey15&quot;, ylim=c(21.0,50.0), xlim=c(-130.0,-65.0))

for (i in (1:dim(LAX1)[1])) { 
  inter=gcIntermediate(c(LAX1$LONGITUDE.x[1], LAX1$LATITUDE.x[1]), c(LAX1$LONGITUDE.y[i], LAX1$LATITUDE.y[i]), n=100)
  edge.ind &lt;-(LAX1[i,]$dep_delay_)
  range(edge.ind)
  lines(inter, lwd=edge.ind/30, col=edge.col[edge.ind])   
}</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
</div>
<div id="relationship-between-punctuality-rate-and-passager-flow" class="section level2">
<h2>Relationship between Punctuality rate and Passager flow</h2>
<pre class="r"><code>g2=May17flight %&gt;%
    group_by(ORIGIN) %&gt;%
    summarise(perDelay =   
    length(DEP_DELAY_NEW[DEP_DELAY_NEW&lt;=15])/length(DEP_DELAY_NEW))

g2a=left_join(g2,Halfflow,by = &quot;ORIGIN&quot;)
g2a50=head(arrange(g2a,desc(Flow)), n = 50)
#ggplot(g2a,aes(x = perDelay, y = Flow)) +geom_point() + labs(x=&quot;Punctuality rate&quot;,y=&quot;Passager flow&quot;)</code></pre>
</div>
<div id="good-looking-and-interactive-plot" class="section level2">
<h2>Good looking and interactive Plot</h2>
<pre class="r"><code>figure() %&gt;% ly_points(perDelay,Flow,data=g2a, hover=Description)</code></pre>
<div id="htmlwidget-fca4d429d1a158531a12" style="width:672px;height:480px;" class="rbokeh html-widget"></div>
<script type="application/json" data-for="htmlwidget-fca4d429d1a158531a12">{"x":{"elementid":"f97662ba102de40a37a83e2bcddbd730","modeltype":"Plot","modelid":"680ac65867ece35c9d907b2d1d0d89d3","docid":"8da25899a61aeb739f614bc55fa1b182","docs_json":{"8da25899a61aeb739f614bc55fa1b182":{"version":"0.12.2","title":"Bokeh Figure","roots":{"root_ids":["680ac65867ece35c9d907b2d1d0d89d3"],"references":[{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","attributes":{"id":"680ac65867ece35c9d907b2d1d0d89d3","sizing_mode":"scale_both","x_range":{"type":"Range1d","id":"c333dad5c75410b3f7236c206540dccc"},"y_range":{"type":"Range1d","id":"bc820cf64a58231a8e65ff3eee5a6db0"},"left":[{"type":"LinearAxis","id":"93215187c42e3ddb2b7503caf838f13a"}],"below":[{"type":"LinearAxis","id":"b14fecffaec238f16f250e82c0e4234c"}],"right":[],"above":[],"renderers":[{"type":"BoxAnnotation","id":"48f3dbd9f4c4d9be5369986d048c4f92"},{"type":"GlyphRenderer","id":"fe9426031c7548b9d302cd9838c331b2"},{"type":"LinearAxis","id":"b14fecffaec238f16f250e82c0e4234c"},{"type":"Grid","id":"ff2f3ed1f59fa1739e542a35dbd245a1"},{"type":"LinearAxis","id":"93215187c42e3ddb2b7503caf838f13a"},{"type":"Grid","id":"58a2435b426be36d57b63a32f0edf6c4"}],"extra_y_ranges":{},"extra_x_ranges":{},"tags":[],"min_border_left":4,"min_border_right":4,"min_border_top":4,"min_border_bottom":4,"lod_threshold":null,"toolbar":{"type":"Toolbar","id":"6b16492b6f1a9d006e639771c54be104"},"tool_events":{"type":"ToolEvents","id":"cb5d2510593ae0132759078e65d24ff6"}},"subtype":"Figure"},{"type":"Toolbar","id":"6b16492b6f1a9d006e639771c54be104","attributes":{"id":"6b16492b6f1a9d006e639771c54be104","tags":[],"active_drag":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"type":"PanTool","id":"7282815413909b870f1333b73cf4ddee"},{"type":"WheelZoomTool","id":"e7bc8ebb016988690bb1828b6645b38b"},{"type":"BoxZoomTool","id":"6fd780f2386846825da70d59510d3f74"},{"type":"ResetTool","id":"0e434ad916d351e58822740f647877f6"},{"type":"SaveTool","id":"17331de5a85caef5ab139847cc5bba2b"},{"type":"HelpTool","id":"89da28d58be8ea66b5eeca041f0e95fb"},{"type":"HoverTool","id":"73af6e0e235e880e5df595b34473f8ef"}],"logo":null}},{"type":"PanTool","id":"7282815413909b870f1333b73cf4ddee","attributes":{"id":"7282815413909b870f1333b73cf4ddee","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"dimensions":["width","height"]}},{"type":"ToolEvents","id":"cb5d2510593ae0132759078e65d24ff6","attributes":{"id":"cb5d2510593ae0132759078e65d24ff6","tags":[]},"geometries":[]},{"type":"WheelZoomTool","id":"e7bc8ebb016988690bb1828b6645b38b","attributes":{"id":"e7bc8ebb016988690bb1828b6645b38b","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"dimensions":["width","height"]}},{"type":"BoxAnnotation","id":"48f3dbd9f4c4d9be5369986d048c4f92","attributes":{"id":"48f3dbd9f4c4d9be5369986d048c4f92","tags":[],"line_color":{"units":"data","value":"black"},"line_alpha":{"units":"data","value":1},"fill_color":{"units":"data","value":"lightgrey"},"fill_alpha":{"units":"data","value":0.5},"line_dash":[4,4],"line_width":{"units":"data","value":2},"level":"overlay","top_units":"screen","bottom_units":"screen","left_units":"screen","right_units":"screen","render_mode":"css"}},{"type":"BoxZoomTool","id":"6fd780f2386846825da70d59510d3f74","attributes":{"id":"6fd780f2386846825da70d59510d3f74","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"overlay":{"type":"BoxAnnotation","id":"48f3dbd9f4c4d9be5369986d048c4f92"}}},{"type":"ResetTool","id":"0e434ad916d351e58822740f647877f6","attributes":{"id":"0e434ad916d351e58822740f647877f6","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"}}},{"type":"SaveTool","id":"17331de5a85caef5ab139847cc5bba2b","attributes":{"id":"17331de5a85caef5ab139847cc5bba2b","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"}}},{"type":"HelpTool","id":"89da28d58be8ea66b5eeca041f0e95fb","attributes":{"id":"89da28d58be8ea66b5eeca041f0e95fb","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"redirect":"http://hafen.github.io/rbokeh","help_tooltip":"Click to learn more about rbokeh."}},{"type":"HoverTool","id":"73af6e0e235e880e5df595b34473f8ef","attributes":{"id":"73af6e0e235e880e5df595b34473f8ef","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"renderers":[{"type":"GlyphRenderer","id":"fe9426031c7548b9d302cd9838c331b2"}],"names":[],"anchor":"center","attachment":"horizontal","line_policy":"prev","mode":"mouse","point_policy":"snap_to_data","tooltips":[["Description","@hover_col_1"]]}},{"type":"ColumnDataSource","id":"68f66f4cc18aec68388788d05fa6bd14","attributes":{"id":"68f66f4cc18aec68388788d05fa6bd14","tags":[],"column_names":["x","y","hover_col_1"],"selected":[],"data":{"x":[0.88125,0.810909090909091,0.903225806451613,0.894117647058824,0.324324324324324,0.814432989690722,0.870967741935484,0.625,0.96551724137931,0.844444444444444,0.831168831168831,0.864611260053619,0.844827586206897,0.884328358208955,0.947589098532495,0.924528301886792,0.843971631205674,0.795441117019623,0.945544554455445,0.819058050383352,0.831288343558282,0.850467289719626,0.908,0.883480062143967,0.976470588235294,0.892655367231638,1,0.611111111111111,0.859169199594731,0.950943396226415,0.904347826086957,0.854838709677419,0.903225806451613,0.903930131004367,0.8,0.885206143896524,0.743462130123971,0.882352941176471,0.607142857142857,0.907407407407407,0.929203539823009,0.935897435897436,0.948275862068966,0.795417348608838,0.717647058823529,0.832369942196532,0.823720930232558,0.800249404829384,0.942567567567568,0.859649122807018,0.844221105527638,0.944444444444444,0.935483870967742,0.819018404907976,0.816593886462882,0.812401883830455,0.870159453302961,0.931034482758621,0.827946457721188,0.804597701149425,0.837003519356461,0.834553440702782,0.951612903225806,0.938461538461538,0.826839826839827,1,0.951612903225806,0.889589905362776,0.792372881355932,0.848214285714286,0.827874116891458,0.91358024691358,0.726256983240223,0.732072900698348,0.857142857142857,0.836055564036025,0.813879301328313,0.815707821590175,0.89247311827957,0.932584269662921,0.930434782608696,0.873579545454545,0.852299159062444,0.943396226415094,0.96551724137931,0.837899543378995,0.982456140350877,0.805309734513274,0.802575107296137,0.954545454545455,0.907407407407407,0.864265927977839,0.900793650793651,0.842105263157895,0.724575424575425,0.829113924050633,0.957364341085271,0.925,0.858310626702997,0.848275862068966,0.973509933774834,0.959677419354839,0.724475717439294,0.892128279883382,0.873417721518987,0.810344827586207,0.890792291220557,0.943820224719101,0.888484848484848,0.930555555555556,0.957692307692308,0.893805309734513,0.875,0.913525498891353,0.825242718446602,0.912849162011173,0.781038374717833,0.816058394160584,0.983193277310924,0.919354838709677,0.741935483870968,1,0.944444444444444,0.966216216216216,0.928087167070218,0.928571428571429,0.773806929614295,0.771666666666667,0.841463414634146,0.912790697674419,0.907407407407407,0.829826732673267,0.844444444444444,0.856236418948283,0.857142857142857,0.951219512195122,0.903225806451613,0.888,0.931034482758621,0.833403984739296,0.942307692307692,0.936170212765957,0.871910112359551,0.865168539325843,0.937618147448015,0.945945945945946,0.879310344827586,0.815251084934904,0.700662739322533,0.892857142857143,0.923287671232877,0.924476797088262,0.899497487437186,0.891774891774892,0.962962962962963,0.775550644005792,0.705882352941177,0.666079586108206,0.852150537634409,0.857142857142857,0.907801418439716,0.863930885529158,0.84981684981685,0.762451141091918,0.82846975088968,0.941871921182266,0.867756315007429,0.916666666666667,0.896551724137931,0.892045454545455,0.966666666666667,0.871331828442438,0.947058823529412,0.837749179914206,0.790353347261332,0.94331983805668,0.801692865779927,0.882352941176471,0.857919254658385,0.903381642512077,0.843601895734597,0.766666666666667,0.844961240310077,0.911926605504587,0.776913772248142,0.861869949980762,0.931034482758621,0.819444444444444,0.901587301587302,0.875739644970414,0.86986301369863,0.933333333333333,0.897727272727273,0.656779661016949,0.882991556091677,0.931578947368421,0.872880626559945,0.779383886255924,0.375,0.797337278106509,0.88034188034188,0.778109910324213,0.912807881773399,0.858202802967848,0.864313292884721,0.967741935483871,0.803601575689364,0.835573054866045,0.839430894308943,0.629032258064516,0.588235294117647,0.951612903225806,0.931034482758621,0.769230769230769,0.754928076718167,0.835732105162157,0.846153846153846,0.822418136020151,0.837833827893175,0.883248730964467,0.888888888888889,0.952380952380952,0.873970345963756,0.903614457831325,0.875576036866359,1,0.918918918918919,0.737704918032787,0.887096774193548,0.876388888888889,0.872711421098518,0.793906810035842,0.928205128205128,0.804347826086957,0.78021978021978,0.834107498341075,0.887096774193548,0.781860828772479,0.931034482758621,0.810291858678955,0.844221105527638,0.845070422535211,0.923076923076923,0.847222222222222,0.820250812819322,0.813725490196078,0.839887244538407,0.823445318084346,0.786324786324786,0.747228381374723,0.880174291938998,0.705555555555556,0.983606557377049,0.92,0.847457627118644,0.847375271149675,0.752697153198302,0.895604395604396,0.962809917355372,0.86848635235732,0.867924528301887,0.81324725011956,0.7375,0.824478178368121,0.889302424500213,0.792367227115025,0.855145413870246,0.921348314606742,0.8,0.792604833712043,0.709677419354839,0.8359375,0.851485148514851,0.967741935483871,0.703703703703704,0.783333333333333,0.832155477031802,0.854748603351955,0.703703703703704,0.799593082400814,0.775280898876405,0.935483870967742,0.86682808716707,0.803787878787879,0.896103896103896,0.941860465116279,0.838709677419355,0.835416666666667,0.5,0.811764705882353,0.834862385321101,0.870967741935484,0.857142857142857,0.851464435146444,0.919354838709677,0.951612903225806],"y":[183578,1319753,15370,21957,57756,38755,320186,1219,45480,71525,168804,802450,15534,192410,1449243,6318,164718,25877004,159334,3782339,255056,151173,84813,1768644,83865,57262,20100,139826,759854,235579,161002,16875,226462,94508,3866863,1000367,8740185,21487,173474,12110,63131,25830,16006,216448,318639,1336790,1327067,7075567,344301,283028,396439,8382,8999,271341,185043,1125673,334175,12353,2499749,39929,11907886,2093959,13981,21819,434404,42906,55619,189161,118770,28480,2074158,66785,209416,4359483,561519,6559497,16398071,16004667,27241,70767,104880,734897,8773047,5258,13609,278970,9529,75811,812790,52339,8751,286982,122717,61753,8754436,272557,306366,238623,369589,136703,148080,38390,7575652,225851,310044,50189,210870,17449,947409,68800,129721,124056,183893,157273,75623,816826,485449,579556,97718,23255,96964,74787,8416,57241,4384942,9182,3601511,434435,166163,298128,5508,4125307,99325,8684351,456794,83073,70163,239623,9388,2496015,8817,39283,323256,53733,387336,202989,268875,1582614,7888392,5949,204214,1021983,72894,105555,8025,12451920,29611,16780996,258788,98500,29220,376927,117199,7658383,1052985,884960,571452,86418,53085,51485,41407,292665,64751,3247469,11315433,329037,5991400,15283,1196038,194373,237447,88186,36659,546734,6266518,1967738,10277,131962,194008,60495,170647,82054,28932,117045,530325,217724,9797447,3471593,24134,639511,89471,3427436,1947880,1063427,1296476,34253,1223003,18115217,949311,31715,7567,37049,11956,97377,1927623,5143384,114563,7191393,12070961,184923,6782,22434,2356417,13405,483782,15080,216210,59988,12292,559381,1022685,493481,155255,24997,197685,3128403,12746,1027986,10125,1103524,173165,686682,30983,69308,2794761,57606,6042209,2420138,694366,198178,175878,108696,23314,76386,958833,11489459,11394927,273553,57280,157006,50553,3146541,34062,2446051,6505146,2904786,2810230,56483,360553,4071429,111230,485250,134090,50740,24025,85699,567850,194540,54686,5527121,110239,207611,785567,986275,126855,27723,27923,536775,9353,25124,327538,7079,4503,401307,5379,44456],"hover_col_1":["Allentown/Bethlehem/Easton, PA: Lehigh Valley International           ","Albuquerque, NM: Albuquerque International Sunport                    ","Aberdeen, SD: Aberdeen Regional                                       ","Albany, GA: Southwest Georgia Regional                                ","Nantucket, MA: Nantucket Memorial                                     ","Arcata/Eureka, CA: California Redwood Coast Humboldt County           ","Atlantic City, NJ: Atlantic City International                        ","Adak Island, AK: Adak                                                 ","Kodiak, AK: Kodiak Airport                                            ","Alexandria, LA: Alexandria International                              ","Augusta, GA: Augusta Regional at Bush Field                           ","Albany, NY: Albany International                                      ","Waterloo, IA: Waterloo Regional                                       ","Amarillo, TX: Rick Husband Amarillo International                     ","Anchorage, AK: Ted Stevens Anchorage International                    ","Alpena, MI: Alpena County Regional                                    ","Aspen, CO: Aspen Pitkin County Sardy Field                            ","Atlanta, GA: Hartsfield-Jackson Atlanta International                 ","Appleton, WI: Appleton International                                  ","Austin, TX: Austin - Bergstrom International                          ","Asheville, NC: Asheville Regional                                     ","Scranton/Wilkes-Barre, PA: Wilkes Barre Scranton International        ","Kalamazoo, MI: Kalamazoo/Battle Creek International                   ","Hartford, CT: Bradley International                                   ","Bethel, AK: Bethel Airport                                            ","Bakersfield, CA: Meadows Field                                        ","Binghamton, NY: Greater Binghamton/Edwin A. Link Field                ","Bangor, ME: Bangor International                                      ","Birmingham, AL: Birmingham-Shuttlesworth International                ","Billings, MT: Billings Logan International                            ","Bismarck/Mandan, ND: Bismarck Municipal                               ","Bemidji, MN: Bemidji Regional                                         ","Bellingham, WA: Bellingham International                              ","Bloomington/Normal, IL: Central Illinois Regional                     ","Nashville, TN: Nashville International                                ","Boise, ID: Boise Air Terminal                                         ","Boston, MA: Logan International                                       ","Brunswick, GA: Brunswick Golden Isles                                 ","Aguadilla, PR: Rafael Hernandez                                       ","Brainerd, MN: Brainerd Lakes Regional                                 ","Brownsville, TX: Brownsville South Padre Island International         ","Barrow, AK: Wiley Post/Will Rogers Memorial                           ","Butte, MT: Bert Mooney                                                ","Baton Rouge, LA: Baton Rouge Metropolitan/Ryan Field                  ","Burlington, VT: Burlington International                              ","Buffalo, NY: Buffalo Niagara International                            ","Burbank, CA: Bob Hope                                                 ","Baltimore, MD: Baltimore/Washington International Thurgood Marshall   ","Bozeman, MT: Bozeman Yellowstone International                        ","Columbia, SC: Columbia Metropolitan                                   ","Akron, OH: Akron-Canton Regional                                      ","Cedar City, UT: Cedar City Regional                                   ","Cordova, AK: Merle K Mudhole Smith                                    ","Chattanooga, TN: Lovell Field                                         ","Charlottesville, VA: Charlottesville Albemarle                        ","Charleston, SC: Charleston AFB/International                          ","Cedar Rapids/Iowa City, IA: The Eastern Iowa                          ","Sault Ste. Marie, MI: Chippewa County International                   ","Cleveland, OH: Cleveland-Hopkins International                        ","College Station/Bryan, TX: Easterwood Field                           ","Charlotte, NC: Charlotte Douglas International                        ","Columbus, OH: John Glenn Columbus International                       ","Hancock/Houghton, MI: Houghton County Memorial                        ","Cody, WY: Yellowstone Regional                                        ","Colorado Springs, CO: City of Colorado Springs Municipal              ","Columbia, MO: Columbia Regional                                       ","Casper, WY: Casper/Natrona County International                       ","Corpus Christi, TX: Corpus Christi International                      ","Charleston/Dunbar, WV: Yeager                                         ","Columbus, GA: Columbus Airport                                        ","Cincinnati, OH: Cincinnati/Northern Kentucky International            ","Mosinee, WI: Central Wisconsin                                        ","Daytona Beach, FL: Daytona Beach International                        ","Dallas, TX: Dallas Love Field                                         ","Dayton, OH: James M Cox/Dayton International                          ","Washington, DC: Ronald Reagan Washington National                     ","Denver, CO: Denver International                                      ","Dallas/Fort Worth, TX: Dallas/Fort Worth International                ","Dothan, AL: Dothan Regional                                           ","Duluth, MN: Duluth International                                      ","Durango, CO: Durango La Plata County                                  ","Des Moines, IA: Des Moines International                              ","Detroit, MI: Detroit Metro Wayne County                               ","Devils Lake, ND: Devils Lake Regional                                 ","Eau Claire, WI: Chippewa Valley Regional                              ","Panama City, FL: Northwest Florida Beaches International              ","Elko, NV: Elko Regional                                               ","Elmira/Corning, NY: Elmira/Corning Regional                           ","El Paso, TX: El Paso International                                    ","Erie, PA: Erie International/Tom Ridge Field                          ","Escanaba, MI: Delta County                                            ","Eugene, OR: Mahlon Sweet Field                                        ","Evansville, IN: Evansville Regional                                   ","New Bern/Morehead/Beaufort, NC: Coastal Carolina Regional             ","Newark, NJ: Newark Liberty International                              ","Key West, FL: Key West International                                  ","Fairbanks, AK: Fairbanks International                                ","Fargo, ND: Hector International                                       ","Fresno, CA: Fresno Yosemite International                             ","Fayetteville, NC: Fayetteville Regional/Grannis Field                 ","Kalispell, MT: Glacier Park International                             ","Flagstaff, AZ: Flagstaff Pulliam                                      ","Fort Lauderdale, FL: Fort Lauderdale-Hollywood International          ","Flint, MI: Bishop International                                       ","Sioux Falls, SD: Joe Foss Field                                       ","Fort Smith, AR: Fort Smith Regional                                   ","Fort Wayne, IN: Fort Wayne International                              ","Gillette, WY: Gillette Campbell County                                ","Spokane, WA: Spokane International                                    ","Grand Forks, ND: Grand Forks International                            ","Grand Junction, CO: Grand Junction Regional                           ","Gainesville, FL: Gainesville Regional                                 ","Gulfport/Biloxi, MS: Gulfport-Biloxi International                    ","Green Bay, WI: Green Bay Austin Straubel International                ","Killeen, TX: Robert Gray AAF                                          ","Grand Rapids, MI: Gerald R. Ford International                        ","Greensboro/High Point, NC: Piedmont Triad International               ","Greer, SC: Greenville-Spartanburg International                       ","Great Falls, MT: Great Falls International                            ","Columbus, MS: Golden Triangle Regional                                ","Guam, TT: Guam International                                          ","Hayden, CO: Yampa Valley                                              ","Hibbing, MN: Range Regional                                           ","Helena, MT: Helena Regional                                           ","Honolulu, HI: Daniel K Inouye International                           ","Hobbs, NM: Lea County Regional                                        ","Houston, TX: William P Hobby                                          ","White Plains, NY: Westchester County                                  ","Harlingen/San Benito, TX: Valley International                        ","Huntsville, AL: Huntsville International-Carl T Jones Field           ","Hays, KS: Hays Regional                                               ","Washington, DC: Washington Dulles International                       ","Niagara Falls, NY: Niagara Falls International                        ","Houston, TX: George Bush Intercontinental/Houston                     ","Wichita, KS: Wichita Dwight D Eisenhower National                     ","Idaho Falls, ID: Idaho Falls Regional                                 ","Bullhead City, AZ: Laughlin/Bullhead International                    ","Wilmington, NC: Wilmington International                              ","Iron Mountain/Kingsfd, MI: Ford                                       ","Indianapolis, IN: Indianapolis International                          ","International Falls, MN: Falls International Einarson Field           ","Williston, ND: Sloulin Field International                            ","Islip, NY: Long Island MacArthur                                      ","Ithaca/Cortland, NY: Ithaca Tompkins Regional                         ","Hilo, HI: Hilo International                                          ","Jackson, WY: Jackson Hole                                             ","Jackson/Vicksburg, MS: Jackson Medgar Wiley Evers International       ","Jacksonville, FL: Jacksonville International                          ","New York, NY: John F. Kennedy International                           ","Jamestown, ND: Jamestown Regional                                     ","Juneau, AK: Juneau International                                      ","Kona, HI: Kona International Airport at Keahole                       ","Ketchikan, AK: Ketchikan International                                ","Lansing, MI: Capital Region International                             ","Laramie, WY: Laramie Regional                                         ","Las Vegas, NV: McCarran International                                 ","Lawton/Fort Sill, OK: Lawton-Fort Sill Regional                       ","Los Angeles, CA: Los Angeles International                            ","Lubbock, TX: Lubbock Preston Smith International                      ","Latrobe, PA: Arnold Palmer Regional                                   ","Lake Charles, LA: Lake Charles Regional                               ","Lexington, KY: Blue Grass                                             ","Lafayette, LA: Lafayette Regional Paul Fournet Field                  ","New York, NY: LaGuardia                                               ","Long Beach, CA: Long Beach Airport                                    ","Lihue, HI: Lihue Airport                                              ","Little Rock, AR: Bill and Hillary Clinton Nat Adams Field             ","Lincoln, NE: Lincoln Airport                                          ","Laredo, TX: Laredo International                                      ","La Crosse, WI: La Crosse Regional                                     ","Lewiston, ID: Lewiston Nez Perce County                               ","Midland/Odessa, TX: Midland International Air and Space Port          ","Saginaw/Bay City/Midland, MI: MBS International                       ","Kansas City, MO: Kansas City International                            ","Orlando, FL: Orlando International                                    ","Harrisburg, PA: Harrisburg International                              ","Chicago, IL: Chicago Midway International                             ","Meridian, MS: Key Field                                               ","Memphis, TN: Memphis International                                    ","Mission/McAllen/Edinburg, TX: McAllen Miller International            ","Medford, OR: Rogue Valley International - Medford                     ","Montgomery, AL: Montgomery Regional                                   ","Manhattan/Ft. Riley, KS: Manhattan Regional                           ","Manchester, NH: Manchester-Boston Regional                            ","Miami, FL: Miami International                                        ","Milwaukee, WI: General Mitchell International                         ","Muskegon, MI: Muskegon County                                         ","Melbourne, FL: Melbourne International                                ","Moline, IL: Quad City International                                   ","Monroe, LA: Monroe Regional                                           ","Mobile, AL: Mobile Regional                                           ","Minot, ND: Minot International                                        ","Marquette, MI: Sawyer International                                   ","Monterey, CA: Monterey Regional                                       ","Madison, WI: Dane County Regional-Truax Field                         ","Missoula, MT: Missoula International                                  ","Minneapolis, MN: Minneapolis-St Paul International                    ","New Orleans, LA: Louis Armstrong New Orleans International            ","Martha's Vineyard, MA: Martha's Vineyard Airport                      ","Myrtle Beach, SC: Myrtle Beach International                          ","Jacksonville/Camp Lejeune, NC: Albert J Ellis                         ","Oakland, CA: Metropolitan Oakland International                       ","Kahului, HI: Kahului Airport                                          ","Oklahoma City, OK: Will Rogers World                                  ","Omaha, NE: Eppley Airfield                                            ","Nome, AK: Nome Airport                                                ","Ontario, CA: Ontario International                                    ","Chicago, IL: Chicago O'Hare International                             ","Norfolk, VA: Norfolk International                                    ","Worcester, MA: Worcester Regional                                     ","North Bend/Coos Bay, OR: Southwest Oregon Regional                    ","Kotzebue, AK: Ralph Wien Memorial                                     ","Paducah, KY: Barkley Regional                                         ","Plattsburgh, NY: Plattsburgh International                            ","West Palm Beach/Palm Beach, FL: Palm Beach International              ","Portland, OR: Portland International                                  ","Newport News/Williamsburg, VA: Newport News/Williamsburg International","Philadelphia, PA: Philadelphia International                          ","Phoenix, AZ: Phoenix Sky Harbor International                         ","Peoria, IL: General Downing - Peoria International                    ","Hattiesburg/Laurel, MS: Hattiesburg-Laurel Regional                   ","Pocatello, ID: Pocatello Regional                                     ","Pittsburgh, PA: Pittsburgh International                              ","Pellston, MI: Pellston Regional Airport of Emmet County               ","Pensacola, FL: Pensacola International                                ","Pago Pago, TT: Pago Pago International                                ","Pasco/Kennewick/Richland, WA: Tri Cities                              ","Ponce, PR: Mercedita                                                  ","Petersburg, AK: Petersburg James A Johnson                            ","Palm Springs, CA: Palm Springs International                          ","Providence, RI: Theodore Francis Green State                          ","Portland, ME: Portland International Jetport                          ","Rapid City, SD: Rapid City Regional                                   ","Redding, CA: Redding Municipal                                        ","Bend/Redmond, OR: Roberts Field                                       ","Raleigh/Durham, NC: Raleigh-Durham International                      ","Rhinelander, WI: Rhinelander/Oneida County                            ","Richmond, VA: Richmond International                                  ","Rock Springs, WY: Rock Springs Sweetwater County                      ","Reno, NV: Reno/Tahoe International                                    ","Roanoke, VA: Roanoke Blacksburg Regional Woodrum Field                ","Rochester, NY: Greater Rochester International                        ","Roswell, NM: Roswell International Air Center                         ","Rochester, MN: Rochester International                                ","Fort Myers, FL: Southwest Florida International                       ","Santa Fe, NM: Santa Fe Municipal                                      ","San Diego, CA: San Diego International                                ","San Antonio, TX: San Antonio International                            ","Savannah, GA: Savannah/Hilton Head International                      ","Santa Barbara, CA: Santa Barbara Municipal                            ","South Bend, IN: South Bend International                              ","San Luis Obispo, CA: San Luis County Regional                         ","Deadhorse, AK: Deadhorse Airport                                      ","State College, PA: University Park                                    ","Louisville, KY: Louisville International-Standiford Field             ","Seattle, WA: Seattle/Tacoma International                             ","San Francisco, CA: San Francisco International                        ","Springfield, MO: Springfield-Branson National                         ","St. George, UT: St George Regional                                    ","Shreveport, LA: Shreveport Regional                                   ","Sitka, AK: Sitka Rocky Gutierrez                                      ","San Jose, CA: Norman Y. Mineta San Jose International                 ","San Angelo, TX: San Angelo Regional/Mathis Field                      ","San Juan, PR: Luis Munoz Marin International                          ","Salt Lake City, UT: Salt Lake City International                      ","Sacramento, CA: Sacramento International                              ","Santa Ana, CA: John Wayne Airport-Orange County                       ","Springfield, IL: Abraham Lincoln Capital                              ","Sarasota/Bradenton, FL: Sarasota/Bradenton International              ","St. Louis, MO: St Louis Lambert International                         ","Santa Rosa, CA: Charles M. Schulz - Sonoma County                     ","Charlotte Amalie, VI: Cyril E King                                    ","Christiansted, VI: Henry E. Rohlsen                                   ","Sun Valley/Hailey/Ketchum, ID: Friedman Memorial                      ","Sioux City, IA: Sioux Gateway/Col. Bud Day Field                      ","Newburgh/Poughkeepsie, NY: Stewart International                      ","Syracuse, NY: Syracuse Hancock International                          ","Tallahassee, FL: Tallahassee International                            ","Toledo, OH: Toledo Express                                            ","Tampa, FL: Tampa International                                        ","Bristol/Johnson City/Kingsport, TN: Tri Cities                        ","Trenton, NJ: Trenton Mercer                                           ","Tulsa, OK: Tulsa International                                        ","Tucson, AZ: Tucson International                                      ","Traverse City, MI: Cherry Capital                                     ","Twin Falls, ID: Joslin Field - Magic Valley Regional                  ","Tyler, TX: Tyler Pounds Regional                                      ","Knoxville, TN: McGhee Tyson                                           ","St. Augustine, FL: Northeast Florida Regional                         ","Valdosta, GA: Valdosta Regional                                       ","Valparaiso, FL: Eglin AFB Destin Fort Walton Beach                    ","Wrangell, AK: Wrangell Airport                                        ","West Yellowstone, MT: Yellowstone                                     ","Fayetteville, AR: Northwest Arkansas Regional                         ","Yakutat, AK: Yakutat Airport                                          ","Yuma, AZ: Yuma MCAS/Yuma International                                "]}}},{"type":"Circle","id":"f5c032761b2473ddb686491f7b005121","attributes":{"id":"f5c032761b2473ddb686491f7b005121","tags":[],"size":{"units":"screen","value":10},"visible":true,"line_color":{"units":"data","value":"#1F77B4"},"fill_color":{"units":"data","value":"#1F77B4"},"line_alpha":{"units":"data","value":1},"fill_alpha":{"units":"data","value":0.5},"x":{"units":"data","field":"x"},"y":{"units":"data","field":"y"}}},{"type":"Circle","id":"54caa397d9ffac4d06db7460c872d328","attributes":{"id":"54caa397d9ffac4d06db7460c872d328","tags":[],"size":{"units":"screen","value":10},"visible":true,"line_color":{"units":"data","value":"#e1e1e1"},"fill_color":{"units":"data","value":"#e1e1e1"},"line_alpha":{"units":"data","value":1},"fill_alpha":{"units":"data","value":0.5},"x":{"units":"data","field":"x"},"y":{"units":"data","field":"y"}}},{"type":"Circle","id":"ed0225929981ea3402f8f0629655ae44","attributes":{"id":"ed0225929981ea3402f8f0629655ae44","tags":[],"size":{"units":"screen","value":10},"visible":true,"line_color":{"units":"data","value":"#1F77B4"},"fill_color":{"units":"data","value":"#1F77B4"},"line_alpha":{"units":"data","value":1},"fill_alpha":{"units":"data","value":1},"x":{"units":"data","field":"x"},"y":{"units":"data","field":"y"}}},{"type":"GlyphRenderer","id":"fe9426031c7548b9d302cd9838c331b2","attributes":{"id":"fe9426031c7548b9d302cd9838c331b2","tags":[],"selection_glyph":null,"nonselection_glyph":{"type":"Circle","id":"54caa397d9ffac4d06db7460c872d328"},"hover_glyph":{"type":"Circle","id":"ed0225929981ea3402f8f0629655ae44"},"name":null,"data_source":{"type":"ColumnDataSource","id":"68f66f4cc18aec68388788d05fa6bd14"},"glyph":{"type":"Circle","id":"f5c032761b2473ddb686491f7b005121"}}},{"type":"Range1d","id":"c333dad5c75410b3f7236c206540dccc","attributes":{"id":"c333dad5c75410b3f7236c206540dccc","tags":[],"start":0.277027027027027,"end":1.0472972972973}},{"type":"Range1d","id":"bc820cf64a58231a8e65ff3eee5a6db0","attributes":{"id":"bc820cf64a58231a8e65ff3eee5a6db0","tags":[],"start":-1810085.95,"end":27688308.95}},{"type":"LinearAxis","id":"b14fecffaec238f16f250e82c0e4234c","attributes":{"id":"b14fecffaec238f16f250e82c0e4234c","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"axis_label":"perDelay","formatter":{"type":"BasicTickFormatter","id":"8b905e5fdfd19e21e11d5613e303bce7"},"ticker":{"type":"BasicTicker","id":"cd4f2e1c125192561c10b4d90e08b2d5"},"visible":true,"axis_label_text_font_size":"12pt"}},{"type":"BasicTickFormatter","id":"8b905e5fdfd19e21e11d5613e303bce7","attributes":{"id":"8b905e5fdfd19e21e11d5613e303bce7","tags":[]}},{"type":"BasicTicker","id":"cd4f2e1c125192561c10b4d90e08b2d5","attributes":{"id":"cd4f2e1c125192561c10b4d90e08b2d5","tags":[],"num_minor_ticks":5}},{"type":"Grid","id":"ff2f3ed1f59fa1739e542a35dbd245a1","attributes":{"id":"ff2f3ed1f59fa1739e542a35dbd245a1","tags":[],"dimension":0,"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"ticker":{"type":"BasicTicker","id":"cd4f2e1c125192561c10b4d90e08b2d5"}}},{"type":"LinearAxis","id":"93215187c42e3ddb2b7503caf838f13a","attributes":{"id":"93215187c42e3ddb2b7503caf838f13a","tags":[],"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"axis_label":"Flow","formatter":{"type":"BasicTickFormatter","id":"938168ec24da7203371278d39c0c07fd"},"ticker":{"type":"BasicTicker","id":"3203b5dd80ff9df67833860cac05e426"},"visible":true,"axis_label_text_font_size":"12pt"}},{"type":"BasicTickFormatter","id":"938168ec24da7203371278d39c0c07fd","attributes":{"id":"938168ec24da7203371278d39c0c07fd","tags":[]}},{"type":"BasicTicker","id":"3203b5dd80ff9df67833860cac05e426","attributes":{"id":"3203b5dd80ff9df67833860cac05e426","tags":[],"num_minor_ticks":5}},{"type":"Grid","id":"58a2435b426be36d57b63a32f0edf6c4","attributes":{"id":"58a2435b426be36d57b63a32f0edf6c4","tags":[],"dimension":1,"plot":{"type":"Plot","id":"680ac65867ece35c9d907b2d1d0d89d3","subtype":"Figure"},"ticker":{"type":"BasicTicker","id":"3203b5dd80ff9df67833860cac05e426"}}}]}}},"debug":false},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>figure() %&gt;% ly_points(perDelay,Flow,data=g2a50, hover=list(Description,Flow,perDelay)) </code></pre>
<div id="htmlwidget-15fa957dbf50527df80e" style="width:672px;height:480px;" class="rbokeh html-widget"></div>
<script type="application/json" data-for="htmlwidget-15fa957dbf50527df80e">{"x":{"elementid":"bffe2b24c041234da2b0b7a1ffe9f174","modeltype":"Plot","modelid":"b34871e580ae27577b9e7f551c8bb9c8","docid":"8da25899a61aeb739f614bc55fa1b182","docs_json":{"8da25899a61aeb739f614bc55fa1b182":{"version":"0.12.2","title":"Bokeh Figure","roots":{"root_ids":["b34871e580ae27577b9e7f551c8bb9c8"],"references":[{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","attributes":{"id":"b34871e580ae27577b9e7f551c8bb9c8","sizing_mode":"scale_both","x_range":{"type":"Range1d","id":"9d2720eeeb77a2a49fb40f9df883f9f2"},"y_range":{"type":"Range1d","id":"fd86b65b2a24fed058aa5289afc9bd34"},"left":[{"type":"LinearAxis","id":"eb4dcd8a9a7863409159b791588e55c2"}],"below":[{"type":"LinearAxis","id":"b0c987e9df59dd6865aeb2ab9c32a511"}],"right":[],"above":[],"renderers":[{"type":"BoxAnnotation","id":"dfabec03c33d219bd41e762d3b6e1cab"},{"type":"GlyphRenderer","id":"3031359f07a4b3c5bbddd0dc2b32e0ac"},{"type":"LinearAxis","id":"b0c987e9df59dd6865aeb2ab9c32a511"},{"type":"Grid","id":"f552b56bdf8b89533ff81c034155f80f"},{"type":"LinearAxis","id":"eb4dcd8a9a7863409159b791588e55c2"},{"type":"Grid","id":"4f87febe85e863bd55f4cbd7c66e4f5c"}],"extra_y_ranges":{},"extra_x_ranges":{},"tags":[],"min_border_left":4,"min_border_right":4,"min_border_top":4,"min_border_bottom":4,"lod_threshold":null,"toolbar":{"type":"Toolbar","id":"5e8cca6863366e533ca915ef99e15c81"},"tool_events":{"type":"ToolEvents","id":"6c981c63b5886c52e8cd0a7f717e6531"}},"subtype":"Figure"},{"type":"Toolbar","id":"5e8cca6863366e533ca915ef99e15c81","attributes":{"id":"5e8cca6863366e533ca915ef99e15c81","tags":[],"active_drag":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"type":"PanTool","id":"2838251ac9ccc2f42c742cab122cec91"},{"type":"WheelZoomTool","id":"446c09c109b750f0860d4d6cb0fcc0f2"},{"type":"BoxZoomTool","id":"a28c4b331db65235a52a70159bf96237"},{"type":"ResetTool","id":"b5d02ae5cf2b043748702089fc52e7ff"},{"type":"SaveTool","id":"195c64a5dd8fe973ea2c8a90cd2574c6"},{"type":"HelpTool","id":"546abd2e0b1f288c92f3f6b0414aa6ed"},{"type":"HoverTool","id":"7c670770d2626197ff08c3baf6f29449"}],"logo":null}},{"type":"PanTool","id":"2838251ac9ccc2f42c742cab122cec91","attributes":{"id":"2838251ac9ccc2f42c742cab122cec91","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"dimensions":["width","height"]}},{"type":"ToolEvents","id":"6c981c63b5886c52e8cd0a7f717e6531","attributes":{"id":"6c981c63b5886c52e8cd0a7f717e6531","tags":[]},"geometries":[]},{"type":"WheelZoomTool","id":"446c09c109b750f0860d4d6cb0fcc0f2","attributes":{"id":"446c09c109b750f0860d4d6cb0fcc0f2","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"dimensions":["width","height"]}},{"type":"BoxAnnotation","id":"dfabec03c33d219bd41e762d3b6e1cab","attributes":{"id":"dfabec03c33d219bd41e762d3b6e1cab","tags":[],"line_color":{"units":"data","value":"black"},"line_alpha":{"units":"data","value":1},"fill_color":{"units":"data","value":"lightgrey"},"fill_alpha":{"units":"data","value":0.5},"line_dash":[4,4],"line_width":{"units":"data","value":2},"level":"overlay","top_units":"screen","bottom_units":"screen","left_units":"screen","right_units":"screen","render_mode":"css"}},{"type":"BoxZoomTool","id":"a28c4b331db65235a52a70159bf96237","attributes":{"id":"a28c4b331db65235a52a70159bf96237","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"overlay":{"type":"BoxAnnotation","id":"dfabec03c33d219bd41e762d3b6e1cab"}}},{"type":"ResetTool","id":"b5d02ae5cf2b043748702089fc52e7ff","attributes":{"id":"b5d02ae5cf2b043748702089fc52e7ff","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"}}},{"type":"SaveTool","id":"195c64a5dd8fe973ea2c8a90cd2574c6","attributes":{"id":"195c64a5dd8fe973ea2c8a90cd2574c6","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"}}},{"type":"HelpTool","id":"546abd2e0b1f288c92f3f6b0414aa6ed","attributes":{"id":"546abd2e0b1f288c92f3f6b0414aa6ed","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"redirect":"http://hafen.github.io/rbokeh","help_tooltip":"Click to learn more about rbokeh."}},{"type":"HoverTool","id":"7c670770d2626197ff08c3baf6f29449","attributes":{"id":"7c670770d2626197ff08c3baf6f29449","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"renderers":[{"type":"GlyphRenderer","id":"3031359f07a4b3c5bbddd0dc2b32e0ac"}],"names":[],"anchor":"center","attachment":"horizontal","line_policy":"prev","mode":"mouse","point_policy":"snap_to_data","tooltips":[["Description","@hover_col_1"],["Flow","@hover_col_2"],["perDelay","@hover_col_3"]]}},{"type":"ColumnDataSource","id":"45730ffc4d5e712726a493d6c7df5ac1","attributes":{"id":"45730ffc4d5e712726a493d6c7df5ac1","tags":[],"column_names":["x","y","hover_col_1","hover_col_2","hover_col_3"],"selected":[],"data":{"x":[0.795441117019623,0.835573054866045,0.666079586108206,0.813879301328313,0.815707821590175,0.775550644005792,0.837833827893175,0.837003519356461,0.847375271149675,0.752697153198302,0.790353347261332,0.872880626559945,0.852299159062444,0.724575424575425,0.743462130123971,0.856236418948283,0.700662739322533,0.762451141091918,0.724475717439294,0.822418136020151,0.800249404829384,0.836055564036025,0.889302424500213,0.776913772248142,0.839887244538407,0.801692865779927,0.799593082400814,0.835732105162157,0.928087167070218,0.732072900698348,0.829826732673267,0.792604833712043,0.8,0.819058050383352,0.773806929614295,0.779383886255924,0.778109910324213,0.837749179914206,0.81324725011956,0.834107498341075,0.792367227115025,0.855145413870246,0.820250812819322,0.827946457721188,0.833403984739296,0.824478178368121,0.823445318084346,0.873970345963756,0.834553440702782,0.827874116891458],"y":[25877004,18115217,16780996,16398071,16004667,12451920,12070961,11907886,11489459,11394927,11315433,9797447,8773047,8754436,8740185,8684351,7888392,7658383,7575652,7191393,7075567,6559497,6505146,6266518,6042209,5991400,5527121,5143384,4384942,4359483,4125307,4071429,3866863,3782339,3601511,3471593,3427436,3247469,3146541,3128403,2904786,2810230,2794761,2499749,2496015,2446051,2420138,2356417,2093959,2074158],"hover_col_1":["Atlanta, GA: Hartsfield-Jackson Atlanta International              ","Chicago, IL: Chicago O'Hare International                          ","Los Angeles, CA: Los Angeles International                         ","Denver, CO: Denver International                                   ","Dallas/Fort Worth, TX: Dallas/Fort Worth International             ","Las Vegas, NV: McCarran International                              ","Phoenix, AZ: Phoenix Sky Harbor International                      ","Charlotte, NC: Charlotte Douglas International                     ","Seattle, WA: Seattle/Tacoma International                          ","San Francisco, CA: San Francisco International                     ","Orlando, FL: Orlando International                                 ","Minneapolis, MN: Minneapolis-St Paul International                 ","Detroit, MI: Detroit Metro Wayne County                            ","Newark, NJ: Newark Liberty International                           ","Boston, MA: Logan International                                    ","Houston, TX: George Bush Intercontinental/Houston                  ","New York, NY: John F. Kennedy International                        ","New York, NY: LaGuardia                                            ","Fort Lauderdale, FL: Fort Lauderdale-Hollywood International       ","Philadelphia, PA: Philadelphia International                       ","Baltimore, MD: Baltimore/Washington International Thurgood Marshall","Washington, DC: Ronald Reagan Washington National                  ","Salt Lake City, UT: Salt Lake City International                   ","Miami, FL: Miami International                                     ","San Diego, CA: San Diego International                             ","Chicago, IL: Chicago Midway International                          ","Tampa, FL: Tampa International                                     ","Portland, OR: Portland International                               ","Honolulu, HI: Daniel K Inouye International                        ","Dallas, TX: Dallas Love Field                                      ","Washington, DC: Washington Dulles International                    ","St. Louis, MO: St Louis Lambert International                      ","Nashville, TN: Nashville International                             ","Austin, TX: Austin - Bergstrom International                       ","Houston, TX: William P Hobby                                       ","New Orleans, LA: Louis Armstrong New Orleans International         ","Oakland, CA: Metropolitan Oakland International                    ","Kansas City, MO: Kansas City International                         ","San Jose, CA: Norman Y. Mineta San Jose International              ","Raleigh/Durham, NC: Raleigh-Durham International                   ","Sacramento, CA: Sacramento International                           ","Santa Ana, CA: John Wayne Airport-Orange County                    ","Fort Myers, FL: Southwest Florida International                    ","Cleveland, OH: Cleveland-Hopkins International                     ","Indianapolis, IN: Indianapolis International                       ","San Juan, PR: Luis Munoz Marin International                       ","San Antonio, TX: San Antonio International                         ","Pittsburgh, PA: Pittsburgh International                           ","Columbus, OH: John Glenn Columbus International                    ","Cincinnati, OH: Cincinnati/Northern Kentucky International         "],"hover_col_2":["25877004","18115217","16780996","16398071","16004667","12451920","12070961","11907886","11489459","11394927","11315433"," 9797447"," 8773047"," 8754436"," 8740185"," 8684351"," 7888392"," 7658383"," 7575652"," 7191393"," 7075567"," 6559497"," 6505146"," 6266518"," 6042209"," 5991400"," 5527121"," 5143384"," 4384942"," 4359483"," 4125307"," 4071429"," 3866863"," 3782339"," 3601511"," 3471593"," 3427436"," 3247469"," 3146541"," 3128403"," 2904786"," 2810230"," 2794761"," 2499749"," 2496015"," 2446051"," 2420138"," 2356417"," 2093959"," 2074158"],"hover_col_3":["0.7954411","0.8355731","0.6660796","0.8138793","0.8157078","0.7755506","0.8378338","0.8370035","0.8473753","0.7526972","0.7903533","0.8728806","0.8522992","0.7245754","0.7434621","0.8562364","0.7006627","0.7624511","0.7244757","0.8224181","0.8002494","0.8360556","0.8893024","0.7769138","0.8398872","0.8016929","0.7995931","0.8357321","0.9280872","0.7320729","0.8298267","0.7926048","0.8000000","0.8190581","0.7738069","0.7793839","0.7781099","0.8377492","0.8132473","0.8341075","0.7923672","0.8551454","0.8202508","0.8279465","0.8334040","0.8244782","0.8234453","0.8739703","0.8345534","0.8278741"]}}},{"type":"Circle","id":"4906d446989cd8576f05d9df7123a067","attributes":{"id":"4906d446989cd8576f05d9df7123a067","tags":[],"size":{"units":"screen","value":10},"visible":true,"line_color":{"units":"data","value":"#1F77B4"},"fill_color":{"units":"data","value":"#1F77B4"},"line_alpha":{"units":"data","value":1},"fill_alpha":{"units":"data","value":0.5},"x":{"units":"data","field":"x"},"y":{"units":"data","field":"y"}}},{"type":"Circle","id":"075cd8c224a8eeef33626ec1c0fb88d1","attributes":{"id":"075cd8c224a8eeef33626ec1c0fb88d1","tags":[],"size":{"units":"screen","value":10},"visible":true,"line_color":{"units":"data","value":"#e1e1e1"},"fill_color":{"units":"data","value":"#e1e1e1"},"line_alpha":{"units":"data","value":1},"fill_alpha":{"units":"data","value":0.5},"x":{"units":"data","field":"x"},"y":{"units":"data","field":"y"}}},{"type":"Circle","id":"023c43e9505cdf11c420413676a4b73b","attributes":{"id":"023c43e9505cdf11c420413676a4b73b","tags":[],"size":{"units":"screen","value":10},"visible":true,"line_color":{"units":"data","value":"#1F77B4"},"fill_color":{"units":"data","value":"#1F77B4"},"line_alpha":{"units":"data","value":1},"fill_alpha":{"units":"data","value":1},"x":{"units":"data","field":"x"},"y":{"units":"data","field":"y"}}},{"type":"GlyphRenderer","id":"3031359f07a4b3c5bbddd0dc2b32e0ac","attributes":{"id":"3031359f07a4b3c5bbddd0dc2b32e0ac","tags":[],"selection_glyph":null,"nonselection_glyph":{"type":"Circle","id":"075cd8c224a8eeef33626ec1c0fb88d1"},"hover_glyph":{"type":"Circle","id":"023c43e9505cdf11c420413676a4b73b"},"name":null,"data_source":{"type":"ColumnDataSource","id":"45730ffc4d5e712726a493d6c7df5ac1"},"glyph":{"type":"Circle","id":"4906d446989cd8576f05d9df7123a067"}}},{"type":"Range1d","id":"9d2720eeeb77a2a49fb40f9df883f9f2","attributes":{"id":"9d2720eeeb77a2a49fb40f9df883f9f2","tags":[],"start":0.647739055440866,"end":0.946427697737559}},{"type":"Range1d","id":"fd86b65b2a24fed058aa5289afc9bd34","attributes":{"id":"fd86b65b2a24fed058aa5289afc9bd34","tags":[],"start":407958.78,"end":27543203.22}},{"type":"LinearAxis","id":"b0c987e9df59dd6865aeb2ab9c32a511","attributes":{"id":"b0c987e9df59dd6865aeb2ab9c32a511","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"axis_label":"perDelay","formatter":{"type":"BasicTickFormatter","id":"7a942a1bca148dc6fa19897355079fd0"},"ticker":{"type":"BasicTicker","id":"455ce51dbf323dbde4cab6127ab96286"},"visible":true,"axis_label_text_font_size":"12pt"}},{"type":"BasicTickFormatter","id":"7a942a1bca148dc6fa19897355079fd0","attributes":{"id":"7a942a1bca148dc6fa19897355079fd0","tags":[]}},{"type":"BasicTicker","id":"455ce51dbf323dbde4cab6127ab96286","attributes":{"id":"455ce51dbf323dbde4cab6127ab96286","tags":[],"num_minor_ticks":5}},{"type":"Grid","id":"f552b56bdf8b89533ff81c034155f80f","attributes":{"id":"f552b56bdf8b89533ff81c034155f80f","tags":[],"dimension":0,"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"ticker":{"type":"BasicTicker","id":"455ce51dbf323dbde4cab6127ab96286"}}},{"type":"LinearAxis","id":"eb4dcd8a9a7863409159b791588e55c2","attributes":{"id":"eb4dcd8a9a7863409159b791588e55c2","tags":[],"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"axis_label":"Flow","formatter":{"type":"BasicTickFormatter","id":"9b859efe5d6478ba2ede6b8c6a5d2cbb"},"ticker":{"type":"BasicTicker","id":"316bb6931803b6ca9dec9ba79e49ec3a"},"visible":true,"axis_label_text_font_size":"12pt"}},{"type":"BasicTickFormatter","id":"9b859efe5d6478ba2ede6b8c6a5d2cbb","attributes":{"id":"9b859efe5d6478ba2ede6b8c6a5d2cbb","tags":[]}},{"type":"BasicTicker","id":"316bb6931803b6ca9dec9ba79e49ec3a","attributes":{"id":"316bb6931803b6ca9dec9ba79e49ec3a","tags":[],"num_minor_ticks":5}},{"type":"Grid","id":"4f87febe85e863bd55f4cbd7c66e4f5c","attributes":{"id":"4f87febe85e863bd55f4cbd7c66e4f5c","tags":[],"dimension":1,"plot":{"type":"Plot","id":"b34871e580ae27577b9e7f551c8bb9c8","subtype":"Figure"},"ticker":{"type":"BasicTicker","id":"316bb6931803b6ca9dec9ba79e49ec3a"}}}]}}},"debug":false},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>cor(a$Flow, a$DEP_DELAY_NEW,  method = &quot;pearson&quot;, use = &quot;complete.obs&quot;)</code></pre>
<pre><code>## [1] -0.1351033</code></pre>
<pre class="r"><code>##The corrleation shows the relationship between two variables, from -1 to 1. Bigger abs value is, more clear the relation.

ggscatter(g2a50, x = &quot;perDelay&quot;, y = &quot;Flow&quot;, 
          add = &quot;reg.line&quot;, conf.int = TRUE, 
          cor.coef = TRUE, cor.method = &quot;pearson&quot;,
          xlab = &quot;Percentage of delay&quot;, ylab = &quot;Passager Flow&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<iframe width="100%" height="520" frameborder="0" src="https://finallyegg.carto.com/builder/70b6bef3-8a21-49ac-bfb5-61835c359fe9/embed" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen>
</iframe>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>The relationship between flight delay time and distance or airport passager flow is not clear.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="http://www.adamwilson.us/RDataScience"><i> Spatial Data Science (GEO503) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
