<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Zeping He" />


<title>Demostic flight delay in May 2017</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<script src="site_libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<link href="site_libs/leaflet-0.7.7/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-0.7.7/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<link href="site_libs/leaflet-label-0.2.2/leaflet.label.css" rel="stylesheet" />
<script src="site_libs/leaflet-label-0.2.2/leaflet.label.js"></script>
<script src="site_libs/Proj4Leaflet-0.7.2/proj4-compressed.js"></script>
<script src="site_libs/Proj4Leaflet-0.7.2/proj4leaflet.js"></script>
<script src="site_libs/leaflet-binding-1.1.0.9000/leaflet.js"></script>
<script src="site_libs/leaflet-providers-1.0.27/leaflet-providers.js"></script>
<script src="site_libs/leaflet-providers-plugin-1.1.0.9000/leaflet-providers-plugin.js"></script>
<link href="site_libs/leaflet-markercluster-0.5.0/MarkerCluster.css" rel="stylesheet" />
<link href="site_libs/leaflet-markercluster-0.5.0/MarkerCluster.Default.css" rel="stylesheet" />
<script src="site_libs/leaflet-markercluster-0.5.0/leaflet.markercluster.js"></script>
<script src="site_libs/leaflet-markercluster-0.5.0/leaflet.markercluster.layersupport-src.js"></script>
<script src="site_libs/leaflet-markercluster-0.5.0/leaflet.markercluster.freezable-src.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}

.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adammwilson/RDataScience">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Demostic flight delay in May 2017</h1>
<h3 class="subtitle"><em>With the relationship of geographic…</em></h3>
<h4 class="author"><em>Zeping He</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>With more and more people choose plane to travel, the on-time performace becomes important. I will focus on airline on-time data of May 2017. First, I will test the relationship between “Distance” and “Delay time”, I might use ggplot to draw 2D plot. Second, I would like use leaflet to create an interative map shows the Geographical distribution of Airport related to Average delay-time. For My hypothsis, I assume distance and delay-time will have a negative relationship. The geographical pattern should be clear to see.</p>
<blockquote>
<p>I know words. I have the best words. ~ Donald Trump</p>
</blockquote>
</div>
<div id="materials-and-methods" class="section level1">
<h1>Materials and methods</h1>
<p>Data Source:</p>
<ul>
<li>Filght on-time Performance — from BUREAU OF TRANSPORTATION STATISTICS</li>
<li>Airport Location Data — BUREAU OF TRANSPORTATION STATISTICS</li>
</ul>
<p>Poposed Mehod:</p>
<ol style="list-style-type: decimal">
<li>Data prepartion (Creat another dataframe by Merge two csv file )</li>
<li>General view the airport location distribubtion</li>
<li>Use ggplot to see the relationship between distance</li>
</ol>
<p>See <a href="http://rmarkdown.rstudio.com/" class="uri">http://rmarkdown.rstudio.com/</a> for all the amazing things you can do.</p>
<p>Load any required packages in a code chunk (you may need to install some packages): # Data</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)
library(maps)
library(spocc)
library(leaflet)
knitr::opts_chunk$set(cache=TRUE)  # cache the results for quick compiling</code></pre>
<p>First you need to import airline performance data.</p>
<pre class="r"><code>library(readr)
May17flight &lt;- read_csv(&quot;data/May17flight.csv&quot;)</code></pre>
<pre><code>## Warning: Missing column names filled in: &#39;X25&#39; [25]</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character(),
##   FL_DATE = col_date(format = &quot;&quot;),
##   ORIGIN_AIRPORT_ID = col_integer(),
##   ORIGIN_WAC = col_integer(),
##   DEST_AIRPORT_ID = col_integer(),
##   DEST_AIRPORT_SEQ_ID = col_integer(),
##   DEST_CITY_MARKET_ID = col_integer(),
##   DEST_WAC = col_integer(),
##   DEP_DELAY_NEW = col_double(),
##   ARR_DELAY_NEW = col_double(),
##   AIR_TIME = col_double(),
##   FLIGHTS = col_double(),
##   DISTANCE = col_double()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre class="r"><code>AirportData &lt;- read_csv(&quot;data/AirportData.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   AIRPORT_ID = col_integer(),
##   Code = col_character(),
##   DISPLAY_AIRPORT_NAME = col_character(),
##   LATITUDE = col_double(),
##   LONGITUDE = col_double()
## )</code></pre>
<p>We can find some duplicated Data, Remove them</p>
<pre class="r"><code>AirportData_nd=AirportData[!duplicated(AirportData$Code),]</code></pre>
<p>You can view the domestic airport list by use “unique”</p>
<pre class="r"><code>codeunique=data.frame(unique(May17flight$ORIGIN))
colnames(codeunique)=&quot;Code&quot;
length(unique(May17flight$ORIGIN))</code></pre>
<pre><code>## [1] 296</code></pre>
<p>Obtain Airdata coordinate by “left-join”</p>
<pre class="r"><code>airport_joined=left_join(codeunique, AirportData_nd, by = &quot;Code&quot;)</code></pre>
<pre><code>## Warning: Column `Code` joining factor and character vector, coercing into
## character vector</code></pre>
<p>View the Location Map Use “Leaflet”</p>
<pre class="r"><code>leaflet() %&gt;% addProviderTiles(providers$OpenStreetMap) %&gt;% addMarkers(airport_joined$LONGITUDE,airport_joined$LATITUDE,popup=airport_joined$DISPLAY_AIRPORT_NAME,clusterOptions = markerClusterOptions())</code></pre>
<div id="htmlwidget-51aa6f1c434b7563b71e" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-51aa6f1c434b7563b71e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["OpenStreetMap",null,null,{"errorTileUrl":"","noWrap":false,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false}]},{"method":"addMarkers","args":[[25.7925,29.98333333,39.04777778,32.89444444,34.89888889,39.175,29.99111111,42.36361111,33.64083333,35.21916667,26.68222222,36.12666667,47.44722222,36.08,40.77944444,41.93861111,40.63861111,41.97805556,29.53333333,35.04972222,44.88611111,41.53388889,38.85166667,28.43166667,33.9425,42.21666667,38.74722222,39.72888889,32.89916667,40.69583333,42.95027778,39.77444444,45.58916667,37.50527778,39.2975,41.30194444,32.73277778,33.43611111,37.61888889,38.94166667,41.41083333,32.11611111,26.17694444,35.22722222,37.65,26.07416667,18.44,18.33722222,35.87527778,39.99111111,30.48472222,36.19777778,39.86805556,47.62,37.36277778,37.72138889,38.69555556,33.67555556,40.49666667,43.56527778,27.97305556,39.49777778,40.78416667,26.53611111,33.8175,32.1275,35.04166667,42.74583333,41.06888889,43.11055556,33.82666667,27.39388889,43.12138889,43.64444444,44.47277778,17.70388889,34.2,41.50583333,41.72833333,42.94111111,29.1825,30.19444444,29.645,18.01083333,18.49583333,42.26916667,33.56305556,40.91388889,27.77,32.84694444,39.90111111,30.35777778,31.80666667,42.96666667,42.88111111,26.22805556,40.79666667,33.66222222,34.72916667,31.94083333,41.785,42.93833333,35.39222222,34.05611111,36.89583333,30.47333333,38.17972222,43.14194444,40.97833333,21.31861111,20.90055556,19.72361111,21.97916667,19.73888889,-14.33444444,33.67916667,39.45611111,43.10722222,40.27638889,43.57888889,40.27805556,29.95861111,35.81222222,46.91555556,41.88444444,38.80888889,57.75,61.16916667,60.78444444,70.19444444,71.28555556,64.81444444,55.35833333,58.35555556,60.49305556,59.50916667,57.04861111,56.80416667,56.48444444,64.51138889,66.88805556,48.79444444,31.32416667,35.6175,32.35472222,30.58944444,27.54472222,30.53166667,32.44694444,34.56972222,32.30972222,33.30166667,30.13111111,32.33722222,31.4675,42.08,38.03666667,36.09194444,25.90638889,38.03972222,44.48805556,30.68833333,36.28194444,41.44888889,44.78222222,42.77916667,33.93638889,40.77083333,31.06472222,30.48333333,30.40611111,38.37277778,41.70444444,46.91555556,32.51111111,41.33916667,40.85083333,42.23638889,35.03638889,30.20472222,34.64277778,32.68861111,40.48194444,37.32472222,35.435,34.83027778,38.14138889,33.45027778,37.13166667,33.36916667,24.55555556,34.99138889,37.24,32.3,43.91027778,32.51611111,29.68972222,40.65472222,36.47611111,31.25888889,31.32,31.53222222,30.78222222,35.07361111,28.1025,42.16083333,35.33666667,30.39972222,45.78027778,34.26694444,40.19305556,44.25777778,45.80694444,44.74,43.60666667,46.77888889,46.26388889,41.59083333,38.81361111,35.23666667,42.55611111,43.87722222,40.66138889,39.14222222,35.13777778,36.77666667,44.25444444,39.11861111,35.16444444,38.50916667,37.15,44.12083333,32.65666667,35.43,37.09305556,34.42777778,43.53166667,44.51583333,45.81555556,47.95194444,43.51611111,46.60666667,48.25944444,48.31277778,44.04527778,47.48555556,46.8425,43.50416667,48.17611111,42.37361111,47.16777778,44.86444444,41.31361111,41.59638889,44.35138889,36.58805556,43.17055556,37.06111111,39.84416667,48.11305556,46.93,43.41888889,38.84611111,40.50833333,40.97916667,39.22416667,40.48166667,42.49027778,46.37472222,42.91333333,45.44972222,45.08166667,45.72055556,45.57083333,47.50972222,42.90861111,46.39722222,45.95111111,37.7025,46.24194444,40.82388889,42.48194444,47.38861111,42.20138889,46.35361111,45.63138889,48.56305556,13.48388889,44.65083333,51.88277778,31.35972222,42.40194444,44.80777778,41.25666667,41.39277778,44.68666667],[-80.28611111,-95.34,-84.66861111,-97.02972222,-82.21388889,-76.67,-90.25138889,-71.00611111,-84.42722222,-80.93583333,-80.09416667,-86.68194444,-122.3055556,-115.1522222,-73.87583333,-72.68333333,-73.77694444,-87.90611111,-98.46944444,-89.97861111,-93.21777778,-93.65666667,-77.03694444,-81.32472222,-118.4080556,-83.34444444,-90.36444444,-86.28166667,-80.03888889,-74.17166667,-87.89722222,-104.8797222,-122.595,-77.31972222,-94.71388889,-95.89333333,-117.1872222,-112.0094444,-122.375,-77.4575,-81.84944444,-110.9405556,-98.23972222,-101.7219444,-97.43277778,-80.15166667,-66.00222222,-64.97333333,-78.78194444,-82.87833333,-81.68777778,-95.88972222,-75.24861111,-117.5327778,-121.9405556,-122.2208333,-121.5897222,-117.8669444,-80.23583333,-116.225,-82.53527778,-119.7675,-111.9669444,-81.755,-118.1511111,-81.2025,-106.6063889,-73.80527778,-73.70777778,-76.1025,-116.505,-82.55416667,-77.67083333,-70.30361111,-73.15305556,-64.79888889,-118.3577778,-74.09722222,-71.42611111,-78.73638889,-81.05277778,-97.67,-95.27861111,-66.56361111,-67.13,-71.87444444,-86.75555556,-81.44166667,-97.50083333,-96.85333333,-84.22,-85.79888889,-106.3772222,-83.74166667,-85.52416667,-97.65222222,-73.10083333,-101.8227778,-92.23444444,-102.2013889,-87.75194444,-71.43888889,-97.60166667,-117.6011111,-76.20138889,-87.1875,-85.73861111,-89.33694444,-85.18805556,-157.9225,-156.4336111,-155.0580556,-159.3458333,-156.0455556,-170.7097222,-78.92972222,-74.57805556,-78.94555556,-79.40277778,-96.74083333,-74.8125,-81.33888889,-83.9925,-114.0875,-91.70611111,-104.7091667,-152.4938889,-149.9852778,-161.8313889,-148.4680556,-156.7661111,-147.8627778,-131.7166667,-134.5747222,-145.47,-139.6597222,-135.3616667,-132.9425,-132.3666667,-165.4416667,-162.6058333,-122.5347222,-92.54694444,-106.0883333,-95.39888889,-96.36444444,-99.46111111,-91.15055556,-93.82555556,-98.41611111,-90.07583333,-104.5305556,-93.22555556,-88.74916667,-89.33666667,-80.17861111,-87.5325,-79.94277778,-97.42555556,-84.60222222,-88.13055556,-88.24083333,-94.30694444,-90.505,-89.65916667,-84.58833333,-81.11583333,-77.88138889,-97.8275,-86.52527778,-89.07027778,-81.59305556,-86.3125,-96.81472222,-92.03888889,-75.72583333,-96.75888889,-85.55361111,-85.20361111,-91.9875,-86.77555556,-103.2169444,-88.9275,-79.97638889,-82.54111111,-77.61166667,-78.45305556,-88.59138889,-76.49333333,-81.96444444,-81.75972222,-78.88027778,-93.385,-86.39111111,-92.49638889,-84.93888889,-82.27583333,-75.43833333,-82.40638889,-81.46638889,-85.44833333,-84.19611111,-83.27694444,-77.0425,-80.64305556,-76.89527778,-94.3675,-84.35194444,-111.1594444,-77.90388889,-76.76222222,-88.52,-108.5427778,-85.58583333,-110.7369444,-100.7525,-119.1147222,-83.80083333,-92.21916667,-120.6391667,-92.39972222,-91.25638889,-89.68722222,-96.66888889,-111.6716667,-119.7172222,-121.1513889,-108.5138889,-114.5652778,-122.8116667,-107.7511111,-123.2175,-114.6058333,-119.0522222,-113.5922222,-119.8394444,-84.08166667,-109.0275,-88.11416667,-97.17861111,-112.0647222,-111.9819444,-101.2808333,-114.2511111,-103.0569444,-111.3669444,-92.19027778,-114.3083333,-103.6361111,-122.8722222,-88.48638889,-91.48722222,-105.6730556,-109.0658333,-105.525,-121.8480556,-86.2375,-88.7725,-89.67888889,-98.9075,-98.67833333,-124.24,-99.27416667,-122.2922222,-124.1075,-106.8688889,-107.22,-76.45805556,-117.0144444,-112.5944444,-98.42166667,-83.55583333,-87.08666667,-84.79277778,-94.93472222,-106.4625,-94.1375,-112.4938889,-113.0961111,-84.46611111,-115.7897222,-114.4866667,-92.83861111,-75.96916667,-87.39527778,-89.4575,-93.40416667,144.7972222,-73.46805556,-176.6447222,-100.4944444,-96.38416667,-68.82777778,-70.05972222,-70.61666667,-111.1047222],null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Miami International","Houston Intercontinental","Cincinnati/Northern Kentucky International","Dallas Fort Worth Regional","Greenville-Spartanburg","Baltimore/Washington International","Louis Armstrong New Orleans International","Logan International","Atlanta Municipal","Douglas Municipal","Palm Beach International","Nashville International","Seattle International","McCarran International","LaGuardia","Bradley International","John F. Kennedy International","Chicago O'Hare International","San Antonio International","Memphis International","Minneapolis-St Paul International","Des Moines Municipal","Ronald Reagan Washington National","Orlando International","Los Angeles International","Detroit Metro Wayne County","Lambert-St. Louis International","Indianapolis Muni/Weir Cook","Charleston International","Newark Liberty International","General Mitchell Field","Stapleton International","Portland International","Richmond International","Kansas City International","Eppley Airfield","San Diego International Lindbergh Fl","Phoenix Sky Harbor International","San Francisco International","Washington Dulles International","Cleveland-Hopkins International","Tucson International","McAllen Miller International","Amarillo International","Wichita Mid-Continent","Fort Lauderdale-Hollywood International","Puerto Rico International","Harry S Truman","Raleigh-Durham International","Port Columbus International","Jacksonville International","Tulsa International","Philadelphia International","Spokane International","San Jose International","Metropolitan Oakland International","Sacramento International","Orange County","Pittsburgh International","Boise Air Terminal","Tampa International","Reno/Tahoe International","Salt Lake City International","Southwest Florida International","Long Beach Daugherty Field","Savannah/Hilton Head International","Albuquerque International Sunport","Albany International","Westchester County","Syracuse Hancock International","Palm Springs International","Sarasota/Bradenton Airport","Rochester Monroe County","Portland International Jetport","Burlington International","Alexander Hamilton","Hollywood-Burbank Midpoint","Stewart International","Theodore Francis Green State","Greater Buffalo International","Daytona Beach Regional","Austin - Bergstrom International","William P Hobby","Ponce Airport","Ramey AFB","Worcester Regional","Birmingham Airport","Akron-Canton Regional","Corpus Christi International","Dallas Love Field","James M Cox/Dayton International","Northwest Florida Beaches International","El Paso International","Bishop International","Kent County","Valley International","Long Island MacArthur","Lubbock Regional","Adams Field","Midland Regional Air Trml","Chicago Midway International","Grenier Field/Manchester Municipal","Will Rogers World","Ontario International","Norfolk International","Pensacola Regional","Standiford Field","Truax Field","Fort Wayne Municipal","Honolulu International","Kahului Airport","General Lyman Field","Lihue Airport","Keahole","Pago Pago International","Myrtle Beach International","Nafec Atlantic City","Niagara Falls International","Latrobe Airport","Joe Foss Field","Mercer County","St. Augustine Airport","McGhee Tyson","Missoula International","Cedar Rapids Municipal","Peterson Field","Kodiak Airport","Anchorage International","Bethel Airport","Deadhorse Airport","Wiley Post/Will Rogers Memorial","Fairbanks International","Ketchikan International","Juneau International","Cordova Mile 13","Yakutat Airport","Sitka Rocky Gutierrez","Petersburg James A Johnson","Wrangell Airport","Nome Airport","Ralph Wien Memorial","Bellingham International","England AFB","Santa Fe Municipal","Tyler Pounds Regional","Easterwood Field","Laredo AFB","Baton Rouge Metropolitan/Ryan Field","Shreveport Regional","Lawton-Fort Sill Regional","Allen C Thompson Field","Roswell International Air Center","Lake Charles Regional","Key Field","Hattiesburg-Laurel Regional","Erie International","Evansville Dress Regional","Piedmont Triad International","Brownsville South Padre Island International","Blue Grass","Austin Straubel International","Mobile Regional","Northwest Arkansas Regional","Quad City International","Central Wisconsin","Capital City","Columbia Metropolitan","State College Air Depot","Robert Gray AAF","Northwest Florida Regional","Gulfport-Biloxi International","Kanawha","Michiana Regional","Hector Field","Monroe Regional","Wilkes Barre Scranton International","Lincoln Airport","Kalamazoo/Battle Creek International","Lovell Field","Lafayette Regional","Huntsville International-Carl T Jones Field","Lea County Hobbs","Central Illinois Regional","Roanoke Regional/Woodrum Field","Asheville Regional","Albert J Ellis","Charlottesville Albemarle","Golden Triangle Regional","Patrick Henry International","Bush Field","Key West International","Fayetteville Regional/Grannis Field","Springfield-Branson National","Dannelly Field","Rochester Municipal","Columbus Metropolitan","Gainesville Regional","Lehigh Valley International","Tri-Cities Regional TN/VA","Glynco Jetport","Dothan Regional","Southwest Georgia Regional","Valdosta Regional","Craven County Regional","Melbourne Regional","Elmira/Corning Regional","Fort Smith Regional","Tallahassee Regional","Gallatin Field","Wilmington International","Harrisburg International","Outagamie County Regional","Billings Logan International","Cherry Capital","Jackson Hole","Bismarck Municipal","Tri Cities","Toledo Express","Columbia Regional","San Luis Obispo County Regional","Waterloo Regional","La Crosse Municipal","Greater Peoria","Manhattan Regional","Flagstaff Pulliam","Fresno Air Terminal","Roberts Field","Walker Field","Laughlin/Bullhead International","Charles M. Schulz - Sonoma County","La Plata County","Mahlon Sweet Field","Yuma MCAS/Yuma International","Meadows Field","St George Municipal","Santa Barbara Municipal","Tri City","Yellowstone Regional","Ford","Grand Forks International","Fanning Field","Helena Regional","Minot International","Glacier Park International","Rapid City Regional","Great Falls International","Duluth International","Friedman Memorial","Sloulin Field International","Medford Jackson County","Houghton County Memorial","Eau Claire Municipal","General Brees Field","Rock Springs Sweetwater County","Gillette Campbell County","Monterey Peninsula","Muskegon County","Barkley Regional","Capital","Devils Lake Regional","Jamestown Regional","North Bend Municipal","Hays Municipal","Redding Municipal","Arcata","Aspen Pitkin County Sardy Field","Yampa Valley","Ithaca Tompkins Regional","Lewiston Nez Perce County","Pocatello Regional","Aberdeen Regional","Phelps/Collins","Delta County","Pellston Regional Airport of Emmet County","Bemidji Municipal","Casper/Natrona County International","Brainerd/Crow Wing County","Bert Mooney","Cedar City Regional","Chippewa County International","Elko Regional","Joslin Field - Magic Valley Regional","Chisholm/Hibbing","Greater Binghamton/Edwin A. Link Field","Marquette County","Rhinelander/Oneida County","Falls International","Agana Field","Plattsburgh International","Adak NS","San Angelo Regional/Mathis Field","Sioux City Gateway","Bangor International","Nantucket Memorial","Martha's Vineyard Airport","Yellowstone"],null,{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,null]}],"limits":{"lat":[-14.33444444,71.28555556],"lng":[-176.6447222,144.7972222]}},"evals":[],"jsHooks":[]}</script>
<p>ggplot</p>
<pre class="r"><code>p=ggplot(subset(May17flight,!is.na(DEP_DELAY_NEW)),aes(x=DISTANCE,y=DEP_DELAY_NEW))
p+geom_point(alpha=0.1)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>p=ggplot(May17flight, aes(x = DISTANCE, y = DEP_DELAY_NEW, color = factor(CARRIER)))
p+geom_point(alpha=0.1)</code></pre>
<pre><code>## Warning: Removed 3866 rows containing missing values (geom_point).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-7-2.png" width="672" /> Only View Three Major Airlines</p>
<pre class="r"><code>ggplot(subset(May17flight,CARRIER %in% c(&quot;AA&quot;,&quot;UA&quot;,&quot;DL&quot;)),aes(x = DISTANCE, y = DEP_DELAY_NEW, color = factor(CARRIER)))+ geom_point(alpha=0.3)</code></pre>
<pre><code>## Warning: Removed 546 rows containing missing values (geom_point).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>We are going to use the <code>occ()</code> function to download <em>occurrence</em> records for the American robin (<em>Turdus migratorius</em>) from the <a href="gbif.org">Global Biodiversity Information Facility</a>.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/Turdus-migratorius-002.jpg" alt="alt text" width="200"> <small><small><small>Licensed under CC BY-SA 3.0 via <a href="https://commons.wikimedia.org/wiki/File:Turdus-migratorius-002.jpg#/media/File:Turdus-migratorius-002.jpg">Wikimedia Commons</a></small></small></small></p>
<pre class="r"><code>## define which species to query
sp=&#39;Turdus migratorius&#39;

## run the query and convert to data.frame()
d = occ(query=sp, from=&#39;ebird&#39;,limit = 100) %&gt;% occ2df()</code></pre>
<p>This can take a few seconds.</p>
<pre class="r"><code># Load coastline
map=map_data(&quot;world&quot;)

ggplot(d,aes(x=longitude,y=latitude))+
  geom_polygon(aes(x=long,y=lat,group=group),data=map)+
  geom_point(col=&quot;red&quot;)+
  coord_equal()</code></pre>
<div class="figure">
<img src="index_files/figure-html/unnamed-chunk-10-1.png" alt="Map illustrating the known occurrence locations" width="576" />
<p class="caption">
Map illustrating the known occurrence locations
</p>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>Show tables, plots, etc. and describe them.</p>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>What have you learned? Are there any broader implications?</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="http://www.adamwilson.us/RDataScience"><i> Spatial Data Science (GEO503) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
